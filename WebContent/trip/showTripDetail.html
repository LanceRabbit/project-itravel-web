<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Contact Page with Single Map Modal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/bootstrap.css" />
<link rel="stylesheet" href="css/bootstrap-theme.css" />
<link rel="stylesheet" href="css/jquery.datetimepicker.css" />

<script	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<!-- 如果從Google下載失敗，我們就從自己的Server上下載jQuery.js檔 -->
<script>
	!window.jQuery && document.write("<script src='../js/jquery-1.11.1.min.js'><\/script>")
</script>
<script src="js/bootstrap.js"></script>
	<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<style>
#map-container {
	height: 450px
}

.modal.modal-wide .modal-dialog {
	width: 90%;
}

.modal-wide .modal-body {
	overflow-y: auto;
}

.scrollable {
    height: auto;
    max-height: 150px;
    overflow-x: hidden;
   
}

div{
border-collapse:collapse;
}

/* irrelevant styling */
body {
	text-align: center;
}

body p {
	max-width: 400px;
	margin: 20px auto;
}


	    .title {
	        width:100px;
	      
	        text-align:right;
	        padding-right:10px;
	    }

	


#tallModal .modal-body p {
	margin-bottom: 900px;
	
	
}
#mapmodals .modal-body {
 margin: 1px;
} 

.scrollable {
    height: auto;
    max-height: 400px;
    overflow-x: hidden;
}
</style>
</head>
<body>
	<div class="container">

		<h2 style="text-align: center;">Bootstrap 3.1.0 - Modal Demo</h2>
		<div class="row text-center">
			<h3>The Basic Modal</h3>
			<a href="#" class="btn btn-lg btn-success" data-toggle="modal"
				data-target="#basicModal">Click to open Modal</a>
		</div>
		<hr>
		<div class="row text-center">
			<h3>The Large Modal</h3>
			<a href="#mapmodals" class="btn btn-lg btn-primary"
				data-toggle="modal" data-target="#mapmodals">Click to open Modal</a>
		</div>
		<hr>
		<div class="row text-center">
			<h3>The Small Modal</h3>
			<a href="#" class="btn btn-lg btn-danger" data-toggle="modal"
				data-target="#smallModal">Click to open Modal</a>
		</div>
		<a data-toggle="modal" href="#tallModal" class="btn btn-primary">Wide,
			Tall Content</a>

		<div class="row">

			<div class="col-md-6"></div>
			<!-- / column 1 -->

			<div class="col-md-6">
				<div class="col-md-offset-2 col-md-8">

					<h2>Venice</h2>
					<address>
						<strong>Peggy Guggenheim Collection</strong><br> Dorsoduro,
						701-704<br> 30123<br> Venezia<br> Italia<br> <abbr>P:</abbr>
						+39 041 240 5411
						<!-- Button to trigger modal -->
						<p>
							<a href="#mapmodals" data-toggle="modal" role="button"><img
								src="images/moon1.jpg" width="64" height="64" alt="map Venice"
								title="click to open Map"></a>
						</p>
					</address>
				</div>
			</div>
			<!-- /column 2 -->
		</div>
		<!-- /row -->

		<div id="tallModal" class="modal modal-wide fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title">Modal title</h4>
					</div>
					<div class="modal-body">
						<p>One fine body&hellip;</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary">Save
							changes</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!-- Modal -->
		<div class="modal modal-wide fade" id="mapmodals">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title">Peggy Guggenheim Collection - Venice</h4>
					</div>
					<div class="modal-body" >
						<div class="container-fluid">
							<div class="row-fluid" style=" border-collapse:collapse;">
								<div class="col-sm-4"  >
									<ul class="nav nav-tabs" id="myTab" style=" margin: 0px;">
									<li class="active"><a data-toggle="tab" href="#page1">Home</a></li>
									</ul>

									<div class="tab-content scrollable" id="tabContent" >
									<div class="tab-pane active" id="page1" autofocus="">1234</div>
									</div>
								</div>
								<div class="col-sm-8" style=" border: 1px solid; padding: 0px ;" >
									<div id="map-container" style="margin: 0px; padding: 0px;content: 0px;"></div>
								</div>

							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="close" data-dismiss="modal">Close</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</div>
	<!-- /container -->
<!-- <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
<li><a data-toggle="tab" href="#profile">Profile</a></li> -->
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->

	<script>
		var var_map;
		var var_location = new google.maps.LatLng(45.430817, 12.331516);

		function map_init() {

			var var_mapoptions = {
				center : var_location,
				zoom : 14,
				mapTypeId : google.maps.MapTypeId.ROADMAP,
				mapTypeControl : false,
				panControl : false,
				rotateControl : false,
				streetViewControl : false,
			};
			var_map = new google.maps.Map(document
					.getElementById("map-container"), var_mapoptions);

			var contentString = '<div id="mapInfo">'
					+ '<p><strong>Peggy Guggenheim Collection</strong><br><br>'
					+ 'Dorsoduro, 701-704<br>'
					+ '30123<br>Venezia<br>'
					+ 'P: (+39) 041 240 5411</p>'
					+ '<a href="http://www.guggenheim.org/venice" target="_blank">Plan your visit</a>'
					+ '</div>';

			var var_infowindow = new google.maps.InfoWindow({
				content : contentString
			});

			var var_marker = new google.maps.Marker(
					{
						position : var_location,
						map : var_map,
						title : "Click for information about the Guggenheim museum in Venice",
						maxWidth : 200,
						maxHeight : 200
					});

			google.maps.event.addListener(var_marker, 'click', function() {
				var_infowindow.open(var_map, var_marker);
			});
		}

		google.maps.event.addDomListener(window, 'load', map_init);

		//start of modal google map
		$('#mapmodals').on('shown.bs.modal', function() {
			google.maps.event.trigger(var_map, "resize");
			var_map.setCenter(var_location);
		});

	</script>
<script>
// when .modal-wide opened, set content-body height based on browser height; 
// 200 is appx height of modal padding, modal title and button bar

	$(function() {
		$(".modal-wide").on("show.bs.modal",function() {
							var height = $(window).height() - 200;
							$(this).find(".modal-body").css("max-height",
									height);
							//According to trip day to dynamic create Tabs. 
							$("#myTab , #tabContent ").empty();
							
							$(".modal-header").html('<h4 class="modal-title">ABCDEFGH</h4>');
							
							for(var pageNum=1,max=3;pageNum<max;pageNum++) { 
								$('#myTab').append(
										$('<li><a href="#page' 
												+ pageNum 
												+ '">' 
												+'Page ' 
												+ pageNum 
												+'</a></li>'));

									$('#tabContent').append(
										$('<div class="tab-pane" id="page' + pageNum +
										'">	<div class="row" style="border: 1px solid;">' 
										+'<div class="col-sm-3"  style="padding:5px" >'
										+'<img src="images/Desert.jpg"  height="100" alt="map Venice"'
										+'title="click to open Map"/>'
										+'</div>'
										+'<div class="col-sm-9" style="padding:1px">'
										+'<div class="title"><label>45678</label></div>'+
								       '<div class="title"><label>45678</label></div>'+
								       '<div class="title"><label>45678</label></div>'+
								      '</div>'+
								    '</div>	</div>')
									)
									$('#page'+pageNum).append(
											$('<div class="row" style="border: 1px solid;">' 
													+'<div class="col-sm-3"  style="padding:5px">'
													+'<img  style="  content: 0px;" src="images/Desert.jpg"  height="100" alt="map Venice"'
													+'title="click to open Map"/>'
													+'</div>'
													+'<div class="col-sm-9" style="padding:1px">'
													+'<div class="title"><label>45678</label></div>'+
											       '<div class="title"><label>45678</label></div>'+
											       '<div class="title"><label>45678</label></div>'+
											      '</div>'+
											    '</div>')
												).append(
														$('<div class="row" style="border: 1px solid;">' 
																+'<div class="col-sm-3"  style="padding:5px">'
																+'<img  style="  content: 0px;" src="images/Desert.jpg"  height="100" alt="map Venice"'
																+'title="click to open Map"/>'
																+'</div>'
																+'<div class="col-sm-9" style="padding:1px">'
																+'<div class="title"><label>45678</label></div>'+
														       '<div class="title"><label>45678</label></div>'+
														       '<div class="title"><label>45678</label></div>'+
														      '</div>'+
														    '</div>')
															).append(
																	$('<div class="row" style="border: 1px solid;">' 
																			+'<div class="col-sm-3"  style="padding:5px">'
																			+'<img  style="  content: 0px;" src="images/Desert.jpg"  height="100" alt="map Venice"'
																			+'title="click to open Map"/>'
																			+'</div>'
																			+'<div class="col-sm-9" style="padding:1px">'
																			+'<div class="title"><label>45678</label></div>'+
																	       '<div class="title"><label>45678</label></div>'+
																	       '<div class="title"><label>45678</label></div>'+
																	      '</div>'+
																	    '</div>')
																		).append(
																				$('<div class="row" style="border: 1px solid;">' 
																						+'<div class="col-sm-3"  style="padding:5px">'
																						+'<img  style="  content: 0px;" src="images/Desert.jpg"  height="100" alt="map Venice"'
																						+'title="click to open Map"/>'
																						+'</div>'
																						+'<div class="col-sm-9" style="padding:1px">'
																						+'<div class="title"><label>45678</label></div>'+
																				       '<div class="title"><label>45678</label></div>'+
																				       '<div class="title"><label>45678</label></div>'+
																				      '</div>'+
																				    '</div>')
																					)

									$('#page' + pageNum).tab('show');
									

							} 
							$('#myTab a:first').tab('show');
							
						});
	
	/**
	 * When modal shown, reset the its content 
	 */	
	$('#mapmodals').on('shown.bs.modal', function (e) {
		$('.scrollable').scrollTop(0);
	})	
		
	/**
	 * Click Tab to show its content 
	 */
	$("#myTab").on("click", "a", function(e) {
			$('.scrollable').scrollTop(0);
				e.preventDefault();
				$(this).tab('show');
	});

});
</script>
<script type="text/javascript">
	var pageImages = [];
	var pageNum = 1;
/**
* Reset numbering on tab buttons
*/
function reNumberPages() {
    pageNum = 1;
    var tabCount = $('#pageTab > li').length;
    $('#pageTab > li').each(function() {
        var pageId = $(this).children('a').attr('href');
        if (pageId == "#page1") {
            return true;
        }
        pageNum++;
        $(this).children('a').html('Page ' + pageNum +
            '<button class="close" type="button" ' +
            'title="Remove this page">×</button>');
    });
}
	
	$(document).ready(function() {
		/**
		 * Add a Tab
		 */
		$('#btnAddPage').click(function() {
		pageNum++;
		$('#pageTab').append(
			$('<li><a href="#page' + pageNum + '">' +
			'Page ' + pageNum +
			'<button class="close" type="button" ' +
			'title="Remove this page">×</button>' +
			'</a></li>'));

		$('#pageTabContent').append(
			$('<div class="tab-pane" id="page' + pageNum +
			'">Content page' + pageNum + '</div>'));

		$('#page' + pageNum).tab('show');
		});

/**
* Remove a Tab
*/
$('#pageTab').on('click', ' li a .close', function() {
var tabId = $(this).parents('li').children('a').attr('href');
$(this).parents('li').remove('li');
$(tabId).remove();
reNumberPages();
$('#pageTab a:first').tab('show');
});

/**
 * Click Tab to show its content 
 */
$("#pageTab").on("click", "a", function(e) {
e.preventDefault();
$(this).tab('show');
});
});
	</script>
</body>
</html>